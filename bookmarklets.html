<!DOCTYPE html>
<html>
<body>

<h1>Bookmarklets</h1>
<p>Handy bookmarks with embedded scripts. Just drag any link to the bookmark bar in your browser</p>

<li><a href='
javascript:(
function () {
   window.setTimeout = () => {}
    })();'>fixScroll</a>
    - fixes the scroll issue in Jenkins Blue Ocean: when viewing stages in Blue Ocean it scrolls to the bottom of the stage by itself - this bookmarklet will fix that (side effects unknown - like page might not be getting fresh logs!)</div>
</li>

<li><a href='
javascript:(function () {
  var e, s;
  IB = -1;

  function isDigit(c) {
    return ("0" <= c && c <= "9")
  }

  L = location.href;
  LL = L.length;
  for (e = LL - 1; e >= 0; --e) {
    if (isDigit(L.charAt(e))) {
      for (s = e - 1; s >= 0; --s) {
        if (!isDigit(L.charAt(s))) {
          break;
        }
      }
      break;
    }
  }
  ++s;
  if (e < 0) {
    return;
  }
  oldNum = L.substring(s, e + 1);
  newNum = "" + (parseInt(oldNum, 10) + IB);
  while (newNum.length < oldNum.length) {
    newNum = "0" + newNum;
  }
  location.href = L.substring(0, s) + newNum + L.slice(e + 1);
})();
'>-1</a>
    - decrements last number in URL by one - pretty useful when looking for some jenkins build</div>
</li>

<li><a href='
javascript:(function () {
  var e, s;
  IB = 1;

  function isDigit(c) {
    return ("0" <= c && c <= "9")
  }

  L = location.href;
  LL = L.length;
  for (e = LL - 1; e >= 0; --e) {
    if (isDigit(L.charAt(e))) {
      for (s = e - 1; s >= 0; --s) {
        if (!isDigit(L.charAt(s))) {
          break;
        }
      }
      break;
    }
  }
  ++s;
  if (e < 0) {
    return;
  }
  oldNum = L.substring(s, e + 1);
  newNum = "" + (parseInt(oldNum, 10) + IB);
  while (newNum.length < oldNum.length) {
    newNum = "0" + newNum;
  }
  location.href = L.substring(0, s) + newNum + L.slice(e + 1);
})();
'>+1</a>
    - increments last number in URL by one - pretty useful when looking for some jenkins build</div>
</li>


<li>navigate<a href='
javascript:(
function () {
    hostname = "http://localhost:8000";
    cur_link = new URL(window.location.href);
    new_url = hostname + cur_link.pathname;
    window.location.href = new_url;
    })();

    '>toLocal:8000</a>
    - replaces current URL's hostname to localhost:8000</div>
</li>

<li>navigate<a href='
javascript:(
function () {
    hostname = "https://staging.worldremit.com";
    cur_link = new URL(window.location.href);
    new_url = hostname + cur_link.pathname;
    window.location.href = new_url;
    })();

    '>toStaging</a>
    - replaces current URL's hostname to staging.worldremit.com</div>
</li>

<li>navigate<a href='
javascript:(
function () {
    hostname = "https://worldremit.com";
    cur_link = new URL(window.location.href);
    new_url = hostname + cur_link.pathname;
    window.location.href = new_url;
    })();

    '>toProd</a>
    - replaces current URL's hostname to worldremit.com</div>
</li>


<li>NO LONGER NEEDED: redirectFromSendappTo<a href='
javascript:(
function () {
    url = window.location.href.split("/").slice(0, 4).join("/")+ "/calculation/";
    trid_el = document.getElementsByClassName("transaction-id");
    if (trid_el.length == 1) {
        new_url = url + trid_el[0].getAttribute("value");
        window.location.href = new_url;
        console.log("REDIRECTED TO PLUTUS: " + new_url);
    } else {
        alert("Cannot find element, are you in sendapp?");
    }
    })();'>toPlutus</a>
    - redirects from sendapp calculation page into plutus transaction (with proper ID)<div>Usage: go to country calculation page, configure the transaction, but instead of clicking "Send", just click this bookmarklet</div>
</li>

</body>
</html>


